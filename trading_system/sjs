            ma5_check = self.check_ma5_divergence_sell(symbol, current_price, stock_name)
            if ma5_check['should_sell']:
                can_sell, sell_reason = self.position_manager.can_sell_symbol(symbol, quantity)
                if can_sell:
                    self.logger.warning(f"📏 {stock_name}({symbol}) 5일선 이격도 매도: "
                                      f"{ma5_check['divergence_ratio']:.1f}% ({profit_loss_pct:+.2f}%)")
                    self.execute_sell(symbol, quantity, "aggressive_limit", ma5_check['reason'])
                    return
            
            # 기존 3순위: 현재 상승 중이면 미래 점수 무시하고 보유 (기존 로직 유지)
            daily_analysis = self.hybrid_strategy.analyze_daily_strategy(symbol)
            if daily_analysis['signal'] == 'BUY' and daily_analysis['strength'] >= 3.0:
                # 단, 이격도가 115% 이상이면 부분 경고
                if ma5_check['divergence_ratio'] >= 115.0:
                    self.logger.warning(f"⚠️ {stock_name}({symbol}) 상승신호지만 이격도 주의: "
                                       f"{ma5_check['divergence_ratio']:.1f}% ({profit_loss_pct:+.2f}%)")
                else:
                    self.logger.info(f"📈 {stock_name}({symbol}) 상승신호로 보유유지: "
                                   f"매수신호 {daily_analysis['strength']:.1f}점 ({profit_loss_pct:+.2f}%)")
                return
