    def calculate_daily_summary(self) -> Dict:
        """ì¼ì¼ ìˆ˜ìµë¥  ìš”ì•½ ê³„ì‚° - ê¸°ì¡´ ë³´ìœ  ì¢…ëª© í¬í•¨"""
        try:
            # í˜„ì¬ í¬íŠ¸í´ë¦¬ì˜¤ ìƒíƒœ
            holdings = self.api_client.get_all_holdings()
            account_data = self.api_client.get_account_balance()
            
            if not account_data:
                return {}
            
            output = account_data.get('output', {})
            cash = float(output.get('ord_psbl_cash', 0))
            
            # ë³´ìœ  ì£¼ì‹ í‰ê°€
            total_stock_value = 0
            total_purchase_amount = 0
            total_profit_loss = 0
            position_details = []
            
            for symbol, position in holdings.items():
                stock_value = position['total_value']
                purchase_value = position['purchase_amount']
                profit_loss = stock_value - purchase_value
                profit_loss_pct = (profit_loss / purchase_value * 100) if purchase_value > 0 else 0
                
                total_stock_value += stock_value
                total_purchase_amount += purchase_value
                total_profit_loss += profit_loss
                
                position_details.append({
                    'symbol': symbol,
                    'stock_name': position['stock_name'],
                    'quantity': position['quantity'],
                    'avg_price': position['avg_price'],
                    'current_price': position['current_price'],
                    'total_value': stock_value,
                    'profit_loss': profit_loss,
                    'profit_loss_pct': profit_loss_pct
                })
            
            # ì´ ìì‚° ë° ìˆ˜ìµë¥ 
            total_assets = cash + total_stock_value
            total_return_pct = (total_profit_loss / total_purchase_amount * 100) if total_purchase_amount > 0 else 0
            
            # ğŸ†• ì˜¤ëŠ˜ ê±°ë˜ ë‚´ì—­ (í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì¤‘ + ê¸°ì¡´ ë³´ìœ  ì •ë³´)
            today_trades = self.get_today_trades()
            
            # ğŸ†• ê±°ë˜ ë‚´ì—­ì´ ì—†ì–´ë„ ê¸°ë³¸ ìš”ì•½ ìƒì„±
            summary = {
                'date': datetime.now().strftime('%Y-%m-%d'),
                'timestamp': datetime.now().isoformat(),
                'total_assets': total_assets,
                'cash': cash,
                'stock_value': total_stock_value,
                'total_profit_loss': total_profit_loss,
                'total_return_pct': total_return_pct,
                'position_count': len(holdings),
                'position_details': position_details,
                'today_trades': today_trades,
                'has_holdings': len(holdings) > 0,  # ë³´ìœ  ì¢…ëª© ì¡´ì¬ ì—¬ë¶€
                'program_trade_only': len(today_trades) == 0  # í”„ë¡œê·¸ë¨ ê±°ë˜ë§Œ ìˆëŠ”ì§€
            }
            
            # ì €ì¥
            self.save_daily_performance(summary)
            
            return summary
            
        except Exception as e:
            self.logger.error(f"ì¼ì¼ ìš”ì•½ ê³„ì‚° ì‹¤íŒ¨: {e}")
            return {}
    
    def get_estimated_daily_trades_from_holdings(self, holdings: Dict) -> List[Dict]:
        """ë³´ìœ  ì¢…ëª©ìœ¼ë¡œë¶€í„° ì¶”ì • ê±°ë˜ ë‚´ì—­ ìƒì„± (ì°¸ê³ ìš©)"""
        try:
            estimated_trades = []
            today = datetime.now().strftime('%Y-%m-%d')
            
            for symbol, position in holdings.items():
                # ê¸°ì¡´ ë³´ìœ  ì¢…ëª©ì„ "ì°¸ê³ ìš© ê±°ë˜"ë¡œ í‘œì‹œ
                estimated_trades.append({
                    'timestamp': f"{today}T09:00:00",  # ì¥ ì‹œì‘ ì‹œê°„ìœ¼ë¡œ ê°€ì •
                    'symbol': symbol,
                    'stock_name': position['stock_name'],
                    'action': 'HOLD',  # ë³´ìœ  ì¤‘
                    'quantity': position['quantity'],
                    'price': position['avg_price'],
                    'amount': position['purchase_amount'],
                    'reason': 'ê¸°ì¡´ë³´ìœ '
                })
            
            return estimated_trades
            
        except Exception as e:
            self.logger.error(f"ì¶”ì • ê±°ë˜ ë‚´ì—­ ìƒì„± ì‹¤íŒ¨: {e}")
            return []
